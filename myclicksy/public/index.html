<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Partecipa a Clicksy!</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div class="container">
    <!-- Social in alto a destra -->
    <div class="social-section" id="socialSection">
      <span>Seguici su</span>
      <a class="social-link" id="instagramSocial" href="#" target="_blank">
        <img 
          src="https://cdn-icons-png.flaticon.com/512/174/174855.png" 
          alt="Instagram"
        />
      </a>
      <a class="social-link" id="tiktokSocial" href="#" target="_blank">
        <img 
          src="https://cdn-icons-png.flaticon.com/512/3046/3046121.png" 
          alt="TikTok"
        />
      </a>
    </div>

    <!-- Titolo -->
    <h1 class="gradient-text" style="margin-top:40px;">Partecipa a Clicksy!</h1>
    <div class="small-warning">
      Clicksy è completamente gratuito. Diffida da chi ti chiede pagamenti.
    </div>

    <!-- Pulsante RITIRA 100€ -->
    <button id="claimButton" class="btn-ritira">
      Ritira 100 <strong>€</strong>
    </button>
    <div class="timer" id="timerDisplay"></div>

    <!-- Sezione "Problemi o suggerimenti?" -->
    <div class="help-section">
      Problemi o suggerimenti? <a href="#contactsSection" id="goToContactsLink">contattaci</a>
    </div>

    <!-- Vetrina Link Personale, Instagram, "Come funziona?"... (solo come esempio) -->
    <div class="referral-section">
      <span class="referral-title">Il tuo link personale:</span>
      <p class="referral-description">
        Ogni click sul tuo link fa risparmiare ore di attesa.
        Chi riceve parte con meno ore la prima volta!
      </p>
      <div class="referral-row">
        <div class="referral-link-box">
          <a id="referralLink" href="" target="_blank"></a>
          <button id="copyButton" class="copy-button">
            <img 
              src="https://cdn-icons-png.flaticon.com/512/54/54702.png" 
              alt="Copy Icon"
            />
            <span class="copied-icon" id="copiedIcon">copiato</span>
          </button>
        </div>
      </div>
    </div>

    <div class="share-instagram">
      <h2 class="share-instagram-title">Condividi su Instagram!</h2>
      <div class="share-instagram-content" id="instagramShare">
        <img 
          class="share-instagram-icon" 
          src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" 
          alt="Instagram Icon"
        />
        <span class="share-instagram-text">
          Condividi il tuo link nella stories
        </span>
      </div>
    </div>

    <div class="instructions come-funziona">
      <details>
        <summary>Come funziona?</summary>
        <p style="margin-top:8px; font-size:0.85em; line-height:1.4;">
          1) Una volta inserita la mail (per poterti inviare il premio), potrai cliccare su <em>Ritira 100€</em>. <br/>
          2) Se il tempo di 24 ore è scaduto, puoi riprovare. <br/>
          3) Se arrivi da un link, potresti avere un vantaggio. <br/>
        </p>
      </details>
    </div>

    <!-- Sezione Contatti -->
    <section id="contactsSection" class="contacts-section">
      <h2>Contatti</h2>
      <ul id="contactsList"></ul>
    </section>

    <!-- Sezione per Modificare la Mail inserita -->
    <div class="edit-email-section">
      <h2>Modifica la tua Email</h2>
      <div class="edit-email-container">
        <input type="email" id="editEmailInput" placeholder="Inserisci nuova email"/>
        <button id="editEmailButton">Aggiorna Email</button>
      </div>
    </div>

    <footer>
      <p>&copy; 2025 Clicksy. Tutti i diritti riservati.</p>
    </footer>
  </div>

  <!-- Popup che richiede la mail la prima volta (niente pop up email/pulsante vecchi) -->
  <div id="emailOverlay">
    <div class="email-modal">
      <h2>Inserisci la tua email</h2>
      <p>Ci serve per inviarti il premio in caso di vincita, solo la prima volta!</p>
      <div class="email-row">
        <span class="email-label">Email</span>
        <input type="email" id="emailInput" placeholder="tuo@email.com"/>
      </div>
      <button id="emailSaveButton">Salva Email</button>
    </div>
  </div>

  <!-- Vetrina Ultime Vincite -->
  <div id="vetrinaScorrevole" class="show">
    <h2>Ultime Vincite</h2>
    <div id="minimizeVetrina"></div>
    <div id="vetrinaItems"></div>
  </div>
  <div id="restoreVetrina" class="icon restore">
    <img 
      src="https://cdn-icons-png.flaticon.com/512/271/271220.png" 
      alt="Show Vetrina Icon"
    />
  </div>

  <!-- Admin Overlay se ?admin=1 -->
  <div id="adminOverlay" style="display:none;">
    <div class="admin-modal">
      <h2>Admin Dashboard</h2>
      <div id="adminLoginForm">
        <label for="adminUsername">Username</label>
        <input id="adminUsername" type="text" placeholder="username"/>

        <label for="adminPassword">Password</label>
        <input id="adminPassword" type="password" placeholder="password"/>

        <button id="adminLoginButton">Login</button>
      </div>

      <div id="adminContent" style="display:none;">
        <h3>Accessi al Sito</h3>
        <div class="admin-section">
          <p><strong>Numero totale di accessi:</strong> <span id="totalAccessCount"></span></p>
        </div>

        <h3>Contatti</h3>
        <div class="admin-section">
          <label for="contactsListInput">Elenco contatti (uno per riga):</label>
          <textarea id="contactsListInput" rows="4" style="width:100%;"></textarea>
          <button id="saveContactsButton">Salva Contatti</button>
        </div>

        <h3>Social</h3>
        <div class="admin-section">
          <label for="instagramLinkInput">Instagram:</label>
          <input id="instagramLinkInput" type="text" placeholder="https://instagram.com/..."/>
          <label for="tiktokLinkInput">TikTok:</label>
          <input id="tiktokLinkInput" type="text" placeholder="https://tiktok.com/@..."/>
          <button id="saveSocialButton">Salva Social</button>
        </div>

        <h3>Classifica Referral</h3>
        <ul id="leaderboard"></ul>

        <button id="adminLogoutButton" style="background-color:#e74c3c; margin-top:14px;">
          Logout
        </button>
      </div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>